[![Documentation Status](https://readthedocs.org/projects/lsqfitgui/badge/?version=latest)](https://lsqfitgui.readthedocs.io/en/latest/?badge=latest)
[![Code Coverage](https://codecov.io/gh/ckoerber/lsqfit-gui/branch/master/graph/badge.svg)](https://codecov.io/gh/ckoerber/lsqfit-gui)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

# Lsqfit GUI

Graphical user interface for `lsqfit` using `dash`.

![GUI example generated by `example/entrypoint.py`](doc/source/_static/gui-example.png)

## Install

Run the following commands in the repository root directory
```
pip install --upgrade numpy scipy
pip install [--user] [-e] .
```

## Usage

Either directly use a fit object to spawn a server
```python
# some_script.py
from lsqfit import nonlinear_fit
from lsqfitgui import run_server
...
fit = nonlinear_fit(data, fcn=fcn, prior=prior)
run_server(fit)
```
or use the console script entry point pointing to a `gvar` pickeled fit (and a fit function which is not stored in the pickled file)
```python
#other_script.py
import gvar as gv
from lsqfit import nonlinear_fit

def fcn(x, p):
    y = ...
    return y

...

fit = nonlinear_fit(data, fcn=fcn, prior=prior)
gv.dump(fit, "fit.p")
```
and run
```bash
lsqfitgui [--function other_script.py:fcn] fit.p
```

Both commands will spawn a local server hosting the lsqfit interface.

For more information, see also [the documentation](https://lsqfitgui.readthedocs.io/en/latest/).


## Tests

You need to install dev requirements and add WebDriver support according to [Dash Testing](https://dash.plotly.com/testing).
Afterwards, `pytest .` executes the tests.
